<template>
  <div class="hello">
    <h2>v-bind:is èˆ‡å‹•æ…‹å…ƒä»¶</h2>
      <input v-model="currentTab" type="radio" id="taba" name="TabA" :value="'TabA'">
      <label for="taba">TabA</label>

      <input v-model="currentTab" type="radio" id="tabb" name="TabB" :value="'TabB'">
      <label for="tabb">TabB</label>

      <component :is="currentTabComponent"></component>


    <h2>keep-alive ä¿ç•™å…ƒä»¶ç‹€æ…‹</h2>
      <input v-model="currentTab" type="radio" id="taba" name="TabA" :value="'TabA'">
      <label for="taba">TabA</label>

      <input v-model="currentTab" type="radio" id="tabb" name="TabB" :value="'TabB'">
      <label for="tabb">TabB</label>

      <keep-alive>
        <component :is="currentTabComponent"></component>
      </keep-alive>


    <h2>include ã€ exclude èˆ‡ max å±¬æ€§</h2>
      <h4>ğŸ‘‰ include="TabA, TabB"ï¼Œåªä¿ç•™ TabA èˆ‡ TabB çš„ç‹€æ…‹</h4>
      <input v-model="currentTab" type="radio" id="taba" name="TabA" :value="'TabA'">
      <label for="taba">TabA</label>

      <input v-model="currentTab" type="radio" id="tabb" name="TabB" :value="'TabB'">
      <label for="tabb">TabB</label>

      <input v-model="currentTab" type="radio" id="tabc" name="TabC" :value="'TabC'">
      <label for="tabc">TabC</label>

      <keep-alive include="TabA, TabB">
        <component :is="currentTabComponent"></component>
      </keep-alive>

      <h4>ğŸ‘‰ exclude="TabAï¼Œä¸ä¿ç•™ TabA çš„ç‹€æ…‹</h4>
      <input v-model="currentTab" type="radio" id="taba" name="TabA" :value="'TabA'">
      <label for="taba">TabA</label>

      <input v-model="currentTab" type="radio" id="tabb" name="TabB" :value="'TabB'">
      <label for="tabb">TabB</label>

      <input v-model="currentTab" type="radio" id="tabc" name="TabC" :value="'TabC'">
      <label for="tabc">TabC</label>

      <keep-alive exclude="TabA">
        <component :is="currentTabComponent"></component>
      </keep-alive>

      <h4>ğŸ‘‰ :max="2"ï¼ŒæŒ‡å®šç€è¦½å™¨æš«å­˜çš„å…ƒä»¶æ•¸é‡ï¼Œåªæœƒä¿ç•™æœ€å¾Œå¼•å…¥çš„ 2 å€‹å­å…ƒä»¶ç‹€æ…‹</h4>
      <input v-model="currentTab" type="radio" id="taba" name="TabA" :value="'TabA'">
      <label for="taba">TabA</label>

      <input v-model="currentTab" type="radio" id="tabb" name="TabB" :value="'TabB'">
      <label for="tabb">TabB</label>

      <input v-model="currentTab" type="radio" id="tabc" name="TabC" :value="'TabC'">
      <label for="tabc">TabC</label>

      <keep-alive :max="2">
        <component :is="currentTabComponent"></component>
      </keep-alive>

    <h2>Hooks: activated èˆ‡ deactivated</h2>
    <p>å…©çµ„ Hooks function çµ¦ keep-alive ä¾†ä½¿ç”¨ï¼Œåˆ†åˆ¥æ˜¯ activated èˆ‡ deactivated é€™å…©å€‹ lifecycle hook</p>

    <h4>ğŸ‘‰ åŸå§‹ç‹€æ…‹ï¼Œå°å‡º created ã€ mounted ã€ unmounted éšæ®µ</h4>
    <p>ã€Œå»ºç«‹æ–°çš„å…ƒä»¶ã€(created) â†’ ã€ŒéŠ·æ¯€ç›®å‰å…ƒä»¶ã€(unmounted) â†’ ã€Œæ›è¼‰æ–°çš„å…ƒä»¶ã€(mounted)</p>
      <input v-model="currentTab" type="radio" id="taba" name="TabA" :value="'TabA'">
      <label for="taba">TabA</label>

      <input v-model="currentTab" type="radio" id="tabb" name="TabB" :value="'TabB'">
      <label for="tabb">TabB</label>

      <input v-model="currentTab" type="radio" id="tabc" name="TabC" :value="'TabC'">
      <label for="tabc">TabC</label>

      <!-- <component :is="currentTabComponent" @update="test"></component> -->

    <h4>ğŸ‘‰ åŠ å› keep-alive</h4>
      <!-- <keep-alive>
        <component :is="currentTabComponent" @update="test"></component>
      </keep-alive> -->

    <h4>ğŸ‘‰ åŠ å› keep-aliveï¼ŒåŠ ä¸Š activated èˆ‡ deactivated å…©å€‹ hook</h4>
    <p>ã€Œå»ºç«‹æ–°çš„å…ƒä»¶ã€(created) â†’ ã€Œæš«åœç›®å‰å…ƒä»¶ã€(deactivated) â†’ ã€Œæ›è¼‰æ–°çš„å…ƒä»¶ã€(mounted) â†’ ã€Œå•Ÿç”¨æ–°çš„å…ƒä»¶ã€(activated) é€™å¹¾å€‹éšæ®µ</p>
      <keep-alive>
        <component :is="currentTabComponent" @update="test" @update2="test"></component>
      </keep-alive>
  </div>
</template>

<script>
import TabA from '@/components/TabA'
import TabB from '@/components/TabB'
import TabC from '@/components/TabC'

export default {
  components: {
    TabA,
    TabB,
    TabC
  },
  data() {
    return {
      currentTab: 'TabA'
    }
  },
  computed: {
    currentTabComponent () {
      return this.currentTab;
    }
  },
  methods: {
    test (str) {
      console.log(str)
    },
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
h2 {
  color: #25b57f;
  font-weight: 900;
  margin-top: 60px;
  margin-bottom: 10px;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  display: inline-block;
  margin: 0 10px;
}
a {
  color: #25b57f;
}
</style>
